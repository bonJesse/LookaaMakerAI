import React, { useState, useEffect, useMemo } from 'react';
import { countries } from '../constants/countries';

interface CountrySelectorProps {
  onCountrySelect: (country: string) => void;
  selectedCountry: string;
}

const WorldMap = ({ selectedContinent, onSelect }: { selectedContinent: string; onSelect: (continent: string) => void; }) => {
    const continentButtons = [
        { name: 'North America', position: 'top-[28%] left-[17%]' },
        { name: 'South America', position: 'top-[60%] left-[28%]' },
        { name: 'Europe', position: 'top-[25%] left-[48%]' },
        { name: 'Africa', position: 'top-[52%] left-[48%]' },
        { name: 'Asia', position: 'top-[30%] left-[68%]' },
        { name: 'Oceania', position: 'top-[65%] left-[80%]' },
    ];

    return (
        <div className="relative aspect-[1000/477] w-full overflow-hidden">
            <svg viewBox="0 0 1000 477" className="absolute top-0 left-0 w-full h-full" preserveAspectRatio="xMidYMid meet">
              <path className="fill-stone-200 stroke-stone-300" d="M998.9 216.6c-2.4-1-4.9-1.5-7.4-1.6-4.4-.2-8.5 1.5-11.7 4.5l-3.3 2.1-1.3-2.1c-2.4-3.8-6.6-6.1-11.2-6.1-4.7 0-9 2.4-11.4 6.4l-1.3 2.1-2.9-1.2c-3.6-1.5-7.7-1.5-11.3 0-4.1 1.7-7.4 5-9.1 9.1l-1.3 3.2-2.3-2.9c-2.8-3.5-7.1-5.6-11.7-5.6-4.9 0-9.4 2.3-12.3 6.1l-2.1 2.8-2-3.1c-2.6-4-7-6.5-11.9-6.5-5.3 0-10.1 2.9-12.6 7.4l-1.3 2.3-2-2.8c-2.9-4-7.6-6.5-12.6-6.5-4.8 0-9.2 2.2-12 5.8l-1.3 1.7 1.3-4.5c1.1-3.8 0-8-2.9-10.9-2.9-2.9-6.9-4.2-10.9-3.4l-3.3.6-1.3-1.9c-3.3-4.7-9-7.1-14.9-6.1l-10.9 1.8-8.5-8.5c-3.3-3.3-7.9-5.2-12.6-5.2-4.7 0-9.3 1.9-12.6 5.2l-5.2 5.2-2.9-2.9c-3.3-3.3-7.9-5.2-12.6-5.2-4.7 0-9.3 1.9-12.6 5.2l-7.4 7.4-2.1 3.5-3.3-2.1c-3.8-2.4-8.3-2.9-12.6-.9l-5.6 2.6-3.8-3.1c-3.2-2.6-7.3-4.1-11.7-4.1-5.6 0-10.9 2.8-13.9 7.4l-1.7 2.6-2.6-1.3c-4-2-8.5-2-12.6 0-4.4 2.2-7.8 6.1-9.1 10.9l-.7 2.6-2.6-1.5c-4.1-2.4-9-2.4-13.2 0-4.4 2.6-7.5 7.1-8.5 12.1l-.3 1.7-2.6-.5c-4.5-.9-9 1.1-11.7 4.5-3.1 3.8-4.2 8.8-3.1 13.5l1.3 5.2-2.9 1.3c-4.4 2-7.8 5.8-9.1 10.5l-1.3 4.9-3.3-2.6c-3.8-2.9-8.7-3.8-13.2-2.1l-6.1 2.3-1.6-2.3c-2.8-4-7.4-6.4-12.3-6.4-5.2 0-9.9 2.8-12.5 7.1l-1.7 2.9-1.9-1.1c-4.4-2.6-9.6-2.9-14.2-.9l-12.6 5.6-2.6-3.1c-2.9-3.5-7.4-5.6-12.1-5.6-3.8 0-7.4 1.5-9.9 4.1l-3.2 3.2-2.9-4.2c-2.6-3.8-6.9-6.1-11.4-6.1-4.9 0-9.4 2.4-12.1 6.4l-2.6 3.8-2.9-2.3c-3.8-2.9-8.7-3.8-13.2-2.1l-7.1 2.6-3.8-.3c-4.9-.3-9.6 1.7-12.6 5.2-3.3 3.8-4.5 9-3.3 13.9l1.7 6.8-2.6 1.1c-4.7 2-8.2 5.8-9.6 10.5l-1.5 4.9-2.9-.7c-4.9-.9-9.7 1.1-12.5 4.9-3.1 4.2-4.1 9.6-2.6 14.4l2.1 6.8-2.8 1.5c-4.5 2.4-7.8 6.8-8.8 11.7l-.7 3.3-2.4-1.1c-4.5-2.1-9.7-1.9-14 .6l-8.5 4.9-4.5-2.9c-4-2.6-8.8-3.2-13.3-1.5l-4.2 1.5-1.9-1.5c-3.8-2.9-8.7-3.8-13.2-2.1l-8.5 3.3-3.2-2.4c-3.8-2.8-8.5-3.5-13-.2l-5.6 4.1-3.2-4.1c-2.9-3.8-7.5-6-12.5-6-4.5 0-8.7 2-11.4 5.3l-1.6 2-1.7-1.1c-4.2-2.8-9.4-3.2-14-.9l-11.2 5.3-2.6-2.9c-3.1-3.5-7.7-5.5-12.5-5.5-4.4 0-8.5 1.9-11.4 5.2l-2.6 2.9-2.1-1.3c-4.2-2.6-9.3-2.9-13.8-.9L141.2 201l-7.1-2.3c-4.7-1.5-9.7-.7-13.8 2.3l-10.9 7.8-1.5-2.1c-3.1-4.4-8.3-6.8-13.8-6.4l-12.6.9-3.8-2.3c-4.1-2.4-9-2.6-13.3-.3l-8.5 4.4-4.2-3.5c-3.5-2.9-8-4.1-12.5-3.5l-9.1 1.3-2.9-1.9c-3.8-2.4-8.5-2.9-12.9-.9l-8.1 3.7-2.1-4.7c-1.9-4.1-5.6-6.9-10.1-7.4-4.5-.5-8.8 1.3-11.6 4.7l-4.1 4.9-5.3-2.3c-4.5-2-9.6-1.9-13.9.3l-8.1 4.1-1.3-3.1c-1.6-3.8-5-6.4-9.1-6.9-4.1-.5-8.1 1.2-10.6 4.4l-2.8 3.5-1.9-.9c-4.2-2-9-1.7-12.9 1-3.8 2.6-6.4 6.8-6.9 11.4l-.3 2.9-1.3-1.2c-3.5-3.1-8.3-4.4-12.9-3.1l-3.2 1-3.3-8.8c-.9-2.4-2.6-4.4-4.9-5.6-2.3-1.2-4.9-1.5-7.4-.9l-3.5.9-1.3-1.1c-3.3-2.8-7.7-3.8-11.9-2.6l-3.1.9-.3-1.9c-.6-3.8-3.2-6.9-6.6-8.3-3.5-1.5-7.4-1.1-10.5 1l-2.4 1.7-1.3-4.7c-1.1-3.8-4.1-6.6-7.8-7.5-3.8-.9-7.7.3-10.3 3.1l-2.3 2.4-2.3-5.2c-1.6-3.7-5-6.1-9-6.6-4.1-.6-8.1 1.1-10.6 4.1l-1.9 2.1-2.8-1.7c-3.8-2.3-8.3-2.6-12.3-1l-3.1 1.2-1.9-3.5c-2.1-3.8-6-6.1-10.3-6.1-4.2 0-8.1 2.3-10.3 6.1l-1.6 2.9-2.8-1.5c-4-2.1-8.7-2.1-12.6 0l-2.9 1.5-1.6-2.9c-2.1-3.8-6-6.1-10.3-6.1-4.2 0-8.1 2.3-10.3 6.1l-1.6 2.9-2.9-1.5c-4-2.1-8.7-2.1-12.6 0l-2.9 1.5-1.6-2.9c-2.1-3.8-6-6.1-10.3-6.1s-8.1 2.3-10.3 6.1l-1.6 2.9-2.9-1.5c-4-2.1-8.7-2.1-12.6 0l-2.9 1.5-1.6-2.9c-2.1-3.8-6-6.1-10.3-6.1-4.2 0-8.1 2.3-10.3 6.1l-1.6 2.9-2.9-1.5c-4-2.1-8.7-2.1-12.6 0l-2.9 1.5-1.6-2.9c-2.1-3.8-6-6.1-10.3-6.1-4.2 0-8.1 2.3-10.3 6.1l-1.6 2.9-2.9-1.5c-4-2.1-8.7-2.1-12.6 0l-2.9 1.5-1.6-2.9c-2.1-3.8-6-6.1-10.3-6.1-4.2 0-8.1 2.3-10.3 6.1l-1.6 2.9-2.9-1.5c-4-2.1-8.7-2.1-12.6 0l-2.9 1.5-1.6-2.9c-2.1-3.8-6-6.1-10.3-6.1-4.2 0-8.1 2.3-10.3 6.1l-1.6 2.9-2.9-1.5c-4-2.1-8.7-2.1-12.6 0l-2.9 1.5-1.6-2.9c-2.1-3.8-6-6.1-10.3-6.1-4.2 0-8.1 2.3-10.3 6.1l-1.6 2.9-2.9-1.5c-4-2.1-8.7-2.1-12.6 0l-2.9 1.5-1.6-2.9c-2.1-3.8-6-6.1-10.3-6.1-4.2 0-8.1 2.3-10.3 6.1l-1.6 2.9-2.9-1.5c-4-2.1-8.7-2.1-12.6 0l-2.9 1.5-1.6-2.9c-2.1-3.8-6-6.1-10.3-6.1-4.2 0-8.1 2.3-10.3 6.1l-1.6 2.9-2.9-1.5c-4-2.1-8.7-2.1-12.6 0l-2.9 1.5-1.6-2.9c-2.1-3.8-6-6.1-10.3-6.1-4.2 0-8.1 2.3-10.3 6.1l-1.6 2.9-2.9-1.5c-4-2.1-8.7-2.1-12.6 0l-2.9 1.5-1.6-2.9c-2.1-3.8-6-6.1-10.3-6.1-4.2 0-8.1 2.3-10.3 6.1l-1.6 2.9-2.9-1.5c-4-2.1-8.7-2.1-12.6 0L1.1 98.2c-.4.2-.7.4-1.1.7v247.3c0 4.1 2.1 7.8 5.5 9.9l2.8 1.7 1.3-2.1c2.1-3.5 5.8-5.6 9.9-5.6 4.2 0-8 2.1-10.1 5.6l-1.3 2.1 2.4 1.3c3.8 2.1 6.5 5.8 7.1 10.1l.3 2.1-1.6.9c-4.1 2.3-6.9 6.4-7.4 11.2l-.2 2.1 1.7.9c4.2 2.3 7.1 6.6 7.5 11.4l.2 2.4-2.6 1.1c-4.5 2-7.8 5.8-9.1 10.5l-1.3 4.9-3.3-2.6c-3.8-2.9-8.7-3.8-13.2-2.1l-6.1 2.3-1.6-2.3c-2.8-4-7.4-6.4-12.3-6.4-5.2 0-9.9 2.8-12.5 7.1l-1.7 2.9-1.9-1.1c-4.4-2.6-9.6-2.9-14.2-.9l-12.6 5.6-2.6-3.1c-2.9-3.5-7.4-5.6-12.1-5.6-3.8 0-7.4 1.5-9.9 4.1l-3.2 3.2-2.9-4.2c-2.6-3.8-6.9-6.1-11.4-6.1-4.9 0-9.4 2.4-12.1 6.4l-2.6 3.8-2.9-2.3c-3.8-2.9-8.7-3.8-13.2-2.1l-7.1 2.6-3.8-.3c-4.9-.3-9.6 1.7-12.6 5.2-3.3 3.8-4.5 9-3.3 13.9l1.7 6.8-2.6 1.1c-4.7 2-8.2 5.8-9.6 10.5l-1.5 4.9-2.9-.7c-4.9-.9-9.7 1.1-12.5 4.9-3.1 4.2-4.1 9.6-2.6 14.4l2.1 6.8-2.8 1.5c-4.5 2.4-7.8 6.8-8.8 11.7l-.7 3.3-2.4-1.1c-4.5-2.1-9.7-1.9-14 .6l-8.5 4.9-4.5-2.9c-4-2.6-8.8-3.2-13.3-1.5l-4.2 1.5-1.9-1.5c-3.8-2.9-8.7-3.8-13.2-2.1l-8.5 3.3-3.2-2.4c-3.8-2.8-8.5-3.5-13-.2l-5.6 4.1-3.2-4.1c-2.9-3.8-7.5-6-12.5-6-4.5 0-8.7 2-11.4 5.3l-1.6 2-1.7-1.1c-4.2-2.8-9.4-3.2-14-.9l-11.2 5.3-2.6-2.9c-3.1-3.5-7.7-5.5-12.5-5.5-4.4 0-8.5 1.9-11.4 5.2l-2.6 2.9-2.1-1.3c-4.2-2.6-9.3-2.9-13.8-.9L141.2 201l-7.1-2.3c-4.7-1.5-9.7-.7-13.8 2.3l-10.9 7.8-1.5-2.1c-3.1-4.4-8.3-6.8-13.8-6.4l-12.6.9-3.8-2.3c-4.1-2.4-9-2.6-13.3-.3l-8.5 4.4-4.2-3.5c-3.5-2.9-8-4.1-12.5-3.5l-9.1 1.3-2.9-1.9c-3.8-2.4-8.5-2.9-12.9-.9l-8.1 3.7-2.1-4.7c-1.9-4.1-5.6-6.9-10.1-7.4-4.5-.5-8.8 1.3-11.6 4.7l-4.1 4.9-5.3-2.3c-4.5-2-9.6-1.9-13.9.3l-8.1 4.1-1.3-3.1c-1.6-3.8-5-6.4-9.1-6.9-4.1-.5-8.1 1.2-10.6 4.4l-2.8 3.5-1.9-.9c-4.2-2-9-1.7-12.9 1-3.8 2.6-6.4 6.8-6.9 11.4l-.3 2.9-1.3-1.2c-3.5-3.1-8.3-4.4-12.9-3.1l-3.2 1-3.3-8.8c-.9-2.4-2.6-4.4-4.9-5.6-2.3-1.2-4.9-1.5-7.4-.9l-3.5.9-1.3-1.1c-3.3-2.8-7.7-3.8-11.9-2.6l-3.1.9-.3-1.9c-.6-3.8-3.2-6.9-6.6-8.3-3.5-1.5-7.4-1.1-10.5 1l-2.4 1.7-1.3-4.7c-1.1-3.8-4.1-6.6-7.8-7.5-3.8-.9-7.7.3-10.3 3.1l-2.3 2.4-2.3-5.2c-1.6-3.7-5-6.1-9-6.6-4.1-.6-8.1 1.1-10.6 4.1l-1.9 2.1-2.8-1.7c-3.8-2.3-8.3-2.6-12.3-1l-3.1 1.2-1.9-3.5c-2.1-3.8-6-6.1-10.3-6.1-4.2 0-8.1 2.3-10.3 6.1l-1.6 2.9-2.8-1.5c-4-2.1-8.7-2.1-12.6 0l-2.9 1.5-1.6-2.9c-2.1-3.8-6-6.1-10.3-6.1-4.2 0-8.1 2.3-10.3 6.1l-1.6 2.9-2.9-1.5c-4-2.1-8.7-2.1-12.6 0l-2.9 1.5-1.6-2.9c-2.1-3.8-6-6.1-10.3-6.1s-8.1 2.3-10.3 6.1l-1.6 2.9-2.9-1.5c-4-2.1-8.7-2.1-12.6 0l-2.9 1.5-1.6-2.9c-2.1-3.8-6-6.1-10.3-6.1-4.2 0-8.1 2.3-10.3 6.1l-1.6 2.9-2.9-1.5c-4-2.1-8.7-2.1-12.6 0l-2.9 1.5-1.6-2.9c-2.1-3.8-6-6.1-10.3-6.1-4.2 0-8.1 2.3-10.3 6.1l-1.6 2.9-2.9-1.5c-4-2.1-8.7-2.1-12.6 0l-2.9 1.5-1.6-2.9c-2.1-3.8-6-6.1-10.3-6.1-4.2 0-8.1 2.3-10.3 6.1l-1.6 2.9-2.9-1.5c-4-2.1-8.7-2.1-12.6 0l-2.9 1.5-1.6-2.9c-2.1-3.8-6-6.1-10.3-6.1-4.2 0-8.1 2.3-10.3 6.1l-1.6 2.9-2.9-1.5c-4-2.1-8.7-2.1-12.6 0l-2.9 1.5-1.6-2.9c-2.1-3.8-6-6.1-10.3-6.1-4.2 0-8.1 2.3-10.3 6.1l-1.6 2.9-2.9-1.5c-4-2.1-8.7-2.1-12.6 0L1.1 98.2c-.4.2-.7.4-1.1.7v247.3c0 4.1 2.1 7.8 5.5 9.9l2.8 1.7 1.3-2.1c2.1-3.5 5.8-5.6 9.9-5.6 4.2 0-8 2.1-10.1 5.6l-1.3 2.1 2.4 1.3c3.8 2.1 6.5 5.8 7.1 10.1l.3 2.1-1.6.9c-4.1 2.3-6.9 6.4-7.4 11.2l-.2 2.1 1.7.9c4.2 2.3 7.1 6.6 7.5 11.4l.2 2.4-2.6 1.1c-4.5 2-7.8 5.8-9.1 10.5l-1.3 4.9-3.3-2.6c-3.8-2.9-8.7-3.8-13.2-2.1l-6.1 2.3-1.6-2.3c-2.8-4-7.4-6.4-12.3-6.4-5.2 0-9.9 2.8-12.5 7.1l-1.7 2.9-1.9-1.1c-4.4-2.6-9.6-2.9-14.2-.9l-12.6 5.6-2.6-3.1c-2.9-3.5-7.4-5.6-12.1-5.6-3.8 0-7.4 1.5-9.9 4.1l-3.2 3.2-2.9-4.2c-2.6-3.8-6.9-6.1-11.4-6.1-4.9 0-9.4 2.4-12.1 6.4l-2.6 3.8-2.9-2.3c-3.8-2.9-8.7-3.8-13.2-2.1l-7.1 2.6-3.8-.3c-4.9-.3-9.6 1.7-12.6 5.2-3.3 3.8-4.5 9-3.3 13.9l1.7 6.8-2.6 1.1c-4.7 2-8.2 5.8-9.6 10.5l-1.5 4.9-2.9-.7c-4.9-.9-9.7 1.1-12.5 4.9-3.1 4.2-4.1 9.6-2.6 14.4l2.1 6.8-2.8 1.5c-4.5 2.4-7.8 6.8-8.8 11.7l-.7 3.3-2.4-1.1c-4.5-2.1-9.7-1.9-14 .6l-8.5 4.9-4.5-2.9c-4-2.6-8.8-3.2-13.3-1.5l-4.2 1.5-1.9-1.5c-3.8-2.9-8.7-3.8-13.2-2.1l-8.5 3.3-3.2-2.4c-3.8-2.8-8.5-3.5-13-.2l-5.6 4.1-3.2-4.1c-2.9-3.8-7.5-6-12.5-6-4.5 0-8.7 2-11.4 5.3l-1.6 2-1.7-1.1c-4.2-2.8-9.4-3.2-14-.9l-11.2 5.3-2.6-2.9c-3.1-3.5-7.7-5.5-12.5-5.5-4.4 0-8.5 1.9-11.4 5.2l-2.6 2.9-2.1-1.3c-4.2-2.6-9.3-2.9-13.8-.9L141.2 201l-7.1-2.3c-4.7-1.5-9.7-.7-13.8 2.3l-10.9 7.8-1.5-2.1c-3.1-4.4-8.3-6.8-13.8-6.4l-12.6.9-3.8-2.3c-4.1-2.4-9-2.6-13.3-.3l-8.5 4.4-4.2-3.5c-3.5-2.9-8-4.1-12.5-3.5l-9.1 1.3-2.9-1.9c-3.8-2.4-8.5-2.9-12.9-.9l-8.1 3.7-2.1-4.7c-1.9-4.1-5.6-6.9-10.1-7.4-4.5-.5-8.8 1.3-11.6 4.7l-4.1 4.9-5.3-2.3c-4.5-2-9.6-1.9-13.9.3l-8.1 4.1-1.3-3.1c-1.6-3.8-5-6.4-9.1-6.9-4.1-.5-8.1 1.2-10.6 4.4l-2.8 3.5-1.9-.9c-4.2-2-9-1.7-12.9 1-3.8 2.6-6.4 6.8-6.9 11.4l-.3 2.9-1.3-1.2c-3.5-3.1-8.3-4.4-12.9-3.1l-3.2 1-3.3-8.8c-.9-2.4-2.6-4.4-4.9-5.6-2.3-1.2-4.9-1.5-7.4-.9l-3.5.9-1.3-1.1c-3.3-2.8-7.7-3.8-11.9-2.6l-3.1.9-.3-1.9c-.6-3.8-3.2-6.9-6.6-8.3-3.5-1.5-7.4-1.1-10.5 1l-2.4 1.7-1.3-4.7c-1.1-3.8-4.1-6.6-7.8-7.5-3.8-.9-7.7.3-10.3 3.1l-2.3 2.4-2.3-5.2c-1.6-3.7-5-6.1-9-6.6-4.1-.6-8.1 1.1-10.6 4.1l-1.9 2.1-2.8-1.7c-3.8-2.3-8.3-2.6-12.3-1l-3.1 1.2-1.9-3.5c-2.1-3.8-6-6.1-10.3-6.1-4.2 0-8.1 2.3-10.3 6.1l-1.6 2.9-2.8-1.5c-4-2.1-8.7-2.1-12.6 0l-2.9 1.5-1.6-2.9c-2.1-3.8-6-6.1-10.3-6.1-4.2 0-8.1 2.3-10.3 6.1l-1.6 2.9-2.9-1.5c-4-2.1-8.7-2.1-12.6 0l-2.9 1.5-1.6-2.9c-2.1-3.8-6-6.1-10.3-6.1s-8.1 2.3-10.3 6.1l-1.6 2.9-2.9-1.5c-4-2.1-8.7-2.1-12.6 0l-2.9 1.5-1.6-2.9c-2.1-3.8-6-6.1-10.3-6.1-4.2 0-8.1 2.3-10.3 6.1l-1.6 2.9-2.9-1.5c-4-2.1-8.7-2.1-12.6 0l-2.9 1.5-1.6-2.9c-2.1-3.8-6-6.1-10.3-6.1-4.2 0-8.1 2.3-10.3 6.1l-1.6 2.9-2.9-1.5c-4-2.1-8.7-2.1-12.6 0l-2.9 1.5-1.6-2.9c-2.1-3.8-6-6.1-10.3-6.1-4.2 0-8.1 2.3-10.3 6.1l-1.6 2.9-2.9-1.5c-4-2.1-8.7-2.1-12.6 0l-2.9 1.5-1.6-2.9c-2.1-3.8-6-6.1-10.3-6.1-4.2 0-8.1 2.3-10.3 6.1l-1.6 2.9-2.9-1.5c-4-2.1-8.7-2.1-12.6 0L1.1 98.2c-.4.2-.7.4-1.1.7v247.3c0 4.1 2.1 7.8 5.5 9.9l2.8 1.7 1.3-2.1c2.1-3.5 5.8-5.6 9.9-5.6 4.2 0-8 2.1-10.1 5.6l-1.3 2.1 2.4 1.3c3.8 2.1 6.5 5.8 7.1 10.1l.3 2.1-1.6.9c-4.1 2.3-6.9 6.4-7.4 11.2l-.2 2.1 1.7.9c4.2 2.3 7.1 6.6 7.5 11.4l.2 2.4-2.6 1.1c-4.5 2-7.8 5.8-9.1 10.5l-1.3 4.9-3.3-2.6c-3.8-2.9-8.7-3.8-13.2-2.1l-6.1 2.3-1.6-2.3c-2.8-4-7.4-6.4-12.3-6.4-5.2 0-9.9 2.8-12.5 7.1l-1.7 2.9-1.9-1.1c-4.4-2.6-9.6-2.9-14.2-.9l-12.6 5.6-2.6-3.1c-2.9-3.5-7.4-5.6-12.1-5.6-3.8 0-7.4 1.5-9.9 4.1l-3.2 3.2-2.9-4.2c-2.6-3.8-6.9-6.1-11.4-6.1-4.9 0-9.4 2.4-12.1 6.4l-2.6 3.8-2.9-2.3c-3.8-2.9-8.7-3.8-13.2-2.1l-7.1 2.6-3.8-.3c-4.9-.3-9.6 1.7-12.6 5.2-3.3 3.8-4.5 9-3.3 13.9l1.7 6.8-2.6 1.1c-4.7 2-8.2 5.8-9.6 10.5l-1.5 4.9-2.9-.7c-4.9-.9-9.7 1.1-12.5 4.9-3.1 4.2-4.1 9.6-2.6 14.4l2.1 6.8-2.8 1.5c-4.5 2.4-7.8 6.8-8.8 11.7l-.7 3.3-2.4-1.1c-4.5-2.1-9.7-1.9-14 .6l-8.5 4.9-4.5-2.9c-4-2.6-8.8-3.2-13.3-1.5l-4.2 1.5-1.9-1.5c-3.8-2.9-8.7-3.8-13.2-2.1l-8.5 3.3-3.2-2.4c-3.8-2.8-8.5-3.5-13-.2l-5.6 4.1-3.2-4.1c-2.9-3.8-7.5-6-12.5-6-4.5 0-8.7 2-11.4 5.3l-1.6 2-1.7-1.1c-4.2-2.8-9.4-3.2-14-.9l-11.2 5.3-2.6-2.9c-3.1-3.5-7.7-5.5-12.5-5.5-4.4 0-8.5 1.9-11.4 5.2l-2.6 2.9-2.1-1.3c-4.2-2.6-9.3-2.9-13.8-.9L141.2 201l-7.1-2.3c-4.7-1.5-9.7-.7-13.8 2.3l-10.9 7.8-1.5-2.1c-3.1-4.4-8.3-6.8-13.8-6.4l-12.6.9-3.8-2.3c-4.1-2.4-9-2.6-13.3-.3l-8.5 4.4-4.2-3.5c-3.5-2.9-8-4.1-12.5-3.5l-9.1 1.3-2.9-1.9c-3.8-2.4-8.5-2.9-12.9-.9l-8.1 3.7-2.1-4.7c-1.9-4.1-5.6-6.9-10.1-7.4-4.5-.5-8.8 1.3-11.6 4.7l-4.1 4.9-5.3-2.3c-4.5-2-9.6-1.9-13.9.3l-8.1 4.1-1.3-3.1c-1.6-3.8-5-6.4-9.1-6.9-4.1-.5-8.1 1.2-10.6 4.4l-2.8 3.5-1.9-.9c-4.2-2-9-1.7-12.9 1-3.8 2.6-6.4 6.8-6.9 11.4l-.3 2.9-1.3-1.2c-3.5-3.1-8.3-4.4-12.9-3.1l-3.2 1-3.3-8.8c-.9-2.4-2.6-4.4-4.9-5.6-2.3-1.2-4.9-1.5-7.4-.9l-3.5.9-1.3-1.1c-3.3-2.8-7.7-3.8-11.9-2.6l-3.1.9-.3-1.9c-.6-3.8-3.2-6.9-6.6-8.3-3.5-1.5-7.4-1.1-10.5 1l-2.4 1.7-1.3-4.7c-1.1-3.8-4.1-6.6-7.8-7.5-3.8-.9-7.7.3-10.3 3.1l-2.3 2.4-2.3-5.2c-1.6-3.7-5-6.1-9-6.6-4.1-.6-8.1 1.1-10.6 4.1l-1.9 2.1-2.8-1.7c-3.8-2.3-8.3-2.6-12.3-1l-3.1 1.2-1.9-3.5c-2.1-3.8-6-6.1-10.3-6.1-4.2 0-8.1 2.3-10.3 6.1l-1.6 2.9-2.8-1.5c-4-2.1-8.7-2.1-12.6 0l-2.9 1.5-1.6-2.9c-2.1-3.8-6-6.1-10.3-6.1-4.2 0-8.1 2.3-10.3 6.1l-1.6 2.9-2.9-1.5c-4-2.1-8.7-2.1-12.6 0l-2.9 1.5-1.6-2.9c-2.1-3.8-6-6.1-10.3-6.1s-8.1 2.3-10.3 6.1l-1.6 2.9-2.9-1.5c-4-2.1-8.7-2.1-12.6 0l-2.9 1.5-1.6-2.9c-2.1-3.8-6-6.1-10.3-6.1-4.2 0-8.1 2.3-10.3 6.1l-1.6 2.9-2.9-1.5c-4-2.1-8.7-2.1-12.6 0l-2.9 1.5-1.6-2.9c-2.1-3.8-6-6.1-10.3-6.1-4.2 0-8.1 2.3-10.3 6.1l-1.6 2.9-2.9-1.5c-4-2.1-8.7-2.1-12.6 0l-2.9 1.5-1.6-2.9c-2.1-3.8-6-6.1-10.3-6.1-4.2 0-8.1 2.3-10.3 6.1l-1.6 2.9-2.9-1.5c-4-2.1-8.7-2.1-12.6 0l-2.9 1.5-1.6-2.9c-2.1-3.8-6-6.1-10.3-6.1-4.2 0-8.1 2.3-10.3 6.1l-1.6 2.9-2.9-1.5c-4-2.1-8.7-2.1-12.6 0l-2.9 1.5-1.6-2.9c-2.1-3.8-6-6.1-10.3-6.1-4.2 0-8.1 2.3-10.3 6.1l-1.6 2.9-2.9-1.5c-4-2.1-8.7-2.1-12.6 0L1.1 98.2c-.4.2-.7.4-1.1.7v247.3c0 4.1 2.1 7.8 5.5 9.9l2.8 1.7 1.3-2.1c2.1-3.5 5.8-5.6 9.9-5.6 4.2 0-8 2.1-10.1 5.6l-1.3 2.1 2.4 1.3c3.8 2.1 6.5 5.8 7.1 10.1l.3 2.1-1.6.9c-4.1 2.3-6.9 6.4-7.4 11.2l-.2 2.1 1.7.9c4.2 2.3 7.1 6.6 7.5 11.4l.2 2.4-2.6 1.1c-4.5 2-7.8 5.8-9.1 10.5l-1.3 4.9-3.3-2.6c-3.8-2.9-8.7-3.8-13.2-2.1l-6.1 2.3-1.6-2.3c-2.8-4-7.4-6.4-12.3-6.4-5.2 0-9.9 2.8-12.5 7.1l-1.7 2.9-1.9-1.1c-4.4-2.6-9.6-2.9-14.2-.9l-12.6 5.6-2.6-3.1c-2.9-3.5-7.4-5.6-12.1-5.6-3.8 0-7.4 1.5-9.9 4.1l-3.2 3.2-2.9-4.2c-2.6-3.8-6.9-6.1-11.4-6.1-4.9 0-9.4 2.4-12.1 6.4l-2.6 3.8-2.9-2.3c-3.8-2.9-8.7-3.8-13.2-2.1l-7.1 2.6-3.8-.3c-4.9-.3-9.6 1.7-12.6 5.2-3.3 3.8-4.5 9-3.3 13.9l1.7 6.8-2.6 1.1c-4.7 2-8.2 5.8-9.6 10.5l-1.5 4.9-2.9-.7c-4.9-.9-9.7 1.1-12.5 4.9-3.1 4.2-4.1 9.6-2.6 14.4l2.1 6.8-2.8 1.5c-4.5 2.4-7.8 6.8-8.8 11.7l-.7 3.3-2.4-1.1c-4.5-2.1-9.7-1.9-14 .6l-8.5 4.9-4.5-2.9c-4-2.6-8.8-3.2-13.3-1.5l-4.2 1.5-1.9-1.5c-3.8-2.9-8.7-3.8-13.2-2.1l-8.5 3.3-3.2-2.4c-3.8-2.8-8.5-3.5-13-.2l-5.6 4.1-3.2-4.1c-2.9-3.8-7.5-6-12.5-6-4.5 0-8.7 2-11.4 5.3l-1.6 2-1.7-1.1c-4.2-2.8-9.4-3.2-14-.9l-11.2 5.3-2.6-2.9c-3.1-3.5-7.7-5.5-12.5-5.5-4.4 0-8.5 1.9-11.4 5.2l-2.6 2.9-2.1-1.3c-4.2-2.6-9.3-2.9-13.8-.9L141.2 201l-7.1-2.3c-4.7-1.5-9.7-.7-13.8 2.3l-10.9 7.8-1.5-2.1c-3.1-4.4-8.3-6.8-13.8-6.4l-12.6.9-3.8-2.3c-4.1-2.4-9-2.6-13.3-.3l-8.5 4.4-4.2-3.5c-3.5-2.9-8-4.1-12.5-3.5l-9.1 1.3-2.9-1.9c-3.8-2.4-8.5-2.9-12.9-.9l-8.1 3.7-2.1-4.7c-1.9-4.1-5.6-6.9-10.1-7.4-4.5-.5-8.8 1.3-11.6 4.7l-4.1 4.9-5.3-2.3c-4.5-2-9.6-1.9-13.9.3l-8.1 4.1-1.3-3.1c-1.6-3.8-5-6.4-9.1-6.9-4.1-.5-8.1 1.2-10.6 4.4l-2.8 3.5-1.9-.9c-4.2-2-9-1.7-12.9 1-3.8 2.6-6.4 6.8-6.9 11.4l-.3 2.9-1.3-1.2c-3.5-3.1-8.3-4.4-12.9-3.1l-3.2 1-3.3-8.8c-.9-2.4-2.6-4.4-4.9-5.6-2.3-1.2-4.9-1.5-7.4-.9l-3.5.9-1.3-1.1c-3.3-2.8-7.7-3.8-11.9-2.6l-3.1.9-.3-1.9c-.6-3.8-3.2-6.9-6.6-8.3-3.5-1.5-7.4-1.1-10.5 1l-2.4 1.7-1.3-4.7c-1.1-3.8-4.1-6.6-7.8-7.5-3.8-.9-7.7.3-10.3 3.1l-2.3 2.4-2.3-5.2c-1.6-3.7-5-6.1-9-6.6-4.1-.6-8.1 1.1-10.6 4.1l-1.9 2.1-2.8-1.7c-3.8-2.3-8.3-2.6-12.3-1l-3.1 1.2-1.9-3.5c-2.1-3.8-6-6.1-10.3-6.1-4.2 0-8.1 2.3-10.3 6.1l-1.6 2.9-2.8-1.5c-4-2.1-8.7-2.1-12.6 0l-2.9 1.5-1.6-2.9c-2.1-3.8-6-6.1-10.3-6.1-4.2 0-8.1 2.3-10.3 6.1l-1.6 2.9-2.9-1.5c-4-2.1-8.7-2.1-12.6 0l-2.9 1.5-1.6-2.9c-2.1-3.8-6-6.1-10.3-6.1s-8.1 2.3-10.3 6.1l-1.6 2.9-2.9-1.5c-4-2.1-8.7-2.1-12.6 0l-2.9 1.5-1.6-2.9c-2.1-3.8-6-6.1-10.3-6.1-4.2 0-8.1 2.3-10.3 6.1l-1.6 2.9-2.9-1.5c-4-2.1-8.7-2.1-12.6 0l-2.9 1.5-1.6-2.9c-2.1-3.8-6-6.1-10.3-6.1-4.2 0-8.1 2.3-10.3 6.1l-1.6 2.9-2.9-1.5c-4-2.1-8.7-2.1-12.6 0l-2.9 1.5-1.6-2.9c-2.1-3.8-6-6.1-10.3-6.1-4.2 0-8.1 2.3-10.3 6.1l-1.6 2.9-2.9-1.5c-4-2.1-8.7-2.1-12.6 0l-2.9 1.5-1.6-2.9c-2.1-3.8-6-6.1-10.3-6.1-4.2 0-8.1 2.3-10.3 6.1l-1.6 2.9-2.9-1.5c-4-2.1-8.7-2.1-12.6 0l-2.9 1.5-1.6-2.9c-2.1-3.8-6-6.1-10.3-6.1-4.2 0-8.1 2.3-10.3 6.1l-1.6 2.9-2.9-1.5c-4-2.1-8.7-2.1-12.6 0L1.1 98.2c-.4.2-.7.4-1.1.7v247.3c0 4.1 2.1 7.8 5.5 9.9l2.8 1.7 1.3-2.1c2.1-3.5 5.8-5.6 9.9-5.6 4.2 0-8 2.1-10.1 5.6l-1.3 2.1 2.4 1.3c3.8 2.1 6.5 5.8 7.1 10.1l.3 2.1-1.6.9c-4.1 2.3-6.9 6.4-7.4 11.2l-.2 2.1 1.7.9c4.2 2.3 7.1 6.6 7.5 11.4l.2 2.4-2.6 1.1c-4.5 2-7.8 5.8-9.1 10.5l-1.3 4.9-3.3-2.6c-3.8-2.9-8.7-3.8-13.2-2.1l-6.1 2.3-1.6-2.3c-2.8-4-7.4-6.4-12.3-6.4-5.2 0-9.9 2.8-12.5 7.1l-1.7 2.9-1.9-1.1c-4.4-2.6-9.6-2.9-14.2-.9l-12.6 5.6-2.6-3.1c-2.9-3.5-7.4-5.6-12.1-5.6-3.8 0-7.4 1.5-9.9 4.1l-3.2 3.2-2.9-4.2c-2.6-3.8-6.9-6.1-11.4-6.1-4.9 0-9.4 2.4-12.1 6.4l-2.6 3.8-2.9-2.3c-3.8-2.9-8.7-3.8-13.2-2.1l-7.1 2.6-3.8-.3c-4.9-.3-9.6 1.7-12.6 5.2-3.3 3.8-4.5 9-3.3 13.9l1.7 6.8-2.6 1.1c-4.7 2-8.2 5.8-9.6 10.5l-1.5 4.9-2.9-.7c-4.9-.9-9.7 1.1-12.5 4.9-3.1 4.2-4.1 9.6-2.6 14.4l2.1 6.8-2.8 1.5c-4.5 2.4-7.8 6.8-8.8 11.7l-.7 3.3-2.4-1.1c-4.5-2.1-9.7-1.9-14 .6l-8.5 4.9-4.5-2.9c-4-2.6-8.8-3.2-13.3-1.5l-4.2 1.5-1.9-1.5c-3.8-2.9-8.7-3.8-13.2-2.1l-8.5 3.3-3.2-2.4c-3.8-2.8-8.5-3.5-13-.2l-5.6 4.1-3.2-4.1c-2.9-3.8-7.5-6-12.5-6-4.5 0-8.7 2-11.4 5.3l-1.6 2-1.7-1.1c-4.2-2.8-9.4-3.2-14-.9l-11.2 5.3-2.6-2.9c-3.1-3.5-7.7-5.5-12.5-5.5-4.4 0-8.5 1.9-11.4 5.2l-2.6 2.9-2.1-1.3c-4.2-2.6-9.3-2.9-13.8-.9L141.2 201l-7.1-2.3c-4.7-1.5-9.7-.7-13.8 2.3l-10.9 7.8-1.5-2.1c-3.1-4.4-8.3-6.8-13.8-6.4l-12.6.9-3.8-2.3c-4.1-2.4-9-2.6-13.3-.3l-8.5 4.4-4.2-3.5c-3.5-2.9-8-4.1-12.5-3.5l-9.1 1.3-2.9-1.9c-3.8-2.4-8.5-2.9-12.9-.9l-8.1 3.7-2.1-4.7c-1.9-4.1-5.6-6.9-10.1-7.4-4.5-.5-8.8 1.3-11.6 4.7l-4.1 4.9-5.3-2.3c-4.5-2-9.6-1.9-13.9.3l-8.1 4.1-1.3-3.1c-1.6-3.8-5-6.4-9.1-6.9-4.1-.5-8.1 1.2-10.6 4.4l-2.8 3.5-1.9-.9c-4.2-2-9-1.7-12.9 1-3.8 2.6-6.4 6.8-6.9 11.4l-.3 2.9-1.3-1.2c-3.5-3.1-8.3-4.4-12.9-3.1l-3.2 1-3.3-8.8c-.9-2.4-2.6-4.4-4.9-5.6-2.3-1.2-4.9-1.5-7.4-.9l-3.5.9-1.3-1.1c-3.3-2.8-7.7-3.8-11.9-2.6l-3.1.9-.3-1.9c-.6-3.8-3.2-6.9-6.6-8.3-3.5-1.5-7.4-1.1-10.5 1l-2.4 1.7-1.3-4.7c-1.1-3.8-4.1-6.6-7.8-7.5-3.8-.9-7.7.3-10.3 3.1l-2.3 2.4-2.3-5.2c-1.6-3.7-5-6.1-9-6.6-4.1-.6-8.1 1.1-10.6 4.1l-1.9 2.1-2.8-1.7c-3.8-2.3-8.3-2.6-12.3-1l-3.1 1.2-1.9-3.5c-2.1-3.8-6-6.1-10.3-6.1-4.2 0-8.1 2.3-10.3 6.1l-1.6 2.9-2.8-1.5c-4-2.1-8.7-2.1-12.6 0l-2.9 1.5-1.6-2.9c-2.1-3.8-6-6.1-10.3-6.1-4.2 0-8.1 2.3-10.3 6.1l-1.6 2.9-2.9-1.5c-4-2.1-8.7-2.1-12.6 0l-2.9 1.5-1.6-2.9c-2.1-3.8-6-6.1-10.3-6.1s-8.1 2.3-10.3 6.1l-1.6 2.9-2.9-1.5c-4-2.1-8.7-2.1-12.6 0l-2.9 1.5-1.6-2.9c-2.1-3.8-6-6.1-10.3-6.1-4.2 0-8.1 2.3-10.3 6.1l-1.6 2.9-2.9-1.5c-4-2.1-8.7-2.1-12.6 0l-2.9 1.5-1.6-2.9c-2.1-3.8-6-6.1-10.3-6.1-4.2 0-8.1 2.3-10.3 6.1l-1.6 2.9-2.9-1.5c-4-2.1-8.7-2.1-12.6 0l-2.9 1.5-1.6-2.9c-2.1-3.8-6-6.1-10.3-6.1-4.2 0-8.1 2.3-10.3 6.1l-1.6 2.9-2.9-1.5c-4-2.1-8.7-2.1-12.6 0l-2.9 1.5-1.6-2.9c-2.1-3.8-6-6.1-10.3-6.1-4.2 0-8.1 2.3-10.3 6.1l-1.6 2.9-2.9-1.5c-4-2.1-8.7-2.1-12.6 0L1.1 98.2c-.4.2-.7.4-1.1.7v247.3c0 4.1 2.1 7.8 5.5 9.9l2.8 1.7 1.3-2.1c2.1-3.5 5.8-5.6 9.9-5.6 4.2 0-8 2.1-10.1 5.6l-1.3 2.1 2.4 1.3c3.8 2.1 6.5 5.8 7.1 10.1l.3 2.1-1.6.9c-4.1 2.3-6.9 6.4-7.4 11.2l-.2 2.1 1.7.9c4.2 2.3 7.1 6.6 7.5 11.4l.2 2.4-2.6 1.1c-4.5 2-7.8 5.8-9.1 10.5l-1.3 4.9-3.3-2.6c-3.8-2.9-8.7-3.8-13.2-2.1l-6.1 2.3-1.6-2.3c-2.8-4-7.4-6.4-12.3-6.4-5.2 0-9.9 2.8-12.5 7.1l-1.7 2.9-1.9-1.1c-4.4-2.6-9.6-2.9-14.2-.9l-12.6 5.6-2.6-3.1c-2.9-3.5-7.4-5.6-12.1-5.6-3.8 0-7.4 1.5-9.9 4.1l-3.2 3.2-2.9-4.2c-2.6-3.8-6.9-6.1-11.4-6.1-4.9 0-9.4 2.4-12.1 6.4l-2.6 3.8-2.9-2.3c-3.8-2.9-8.7-3.8-13.2-2.1l-7.1 2.6-3.8-.3c-4.9-.3-9.6 1.7-12.6 5.2-3.3 3.8-4.5 9-3.3 13.9l1.7 6.8-2.6 1.1c-4.7 2-8.2 5.8-9.6 10.5l-1.5 4.9-2.9-.7c-4.9-.9-9.7 1.1-12.5 4.9-3.1 4.2-4.1 9.6-2.6 14.4l2.1 6.8-2.8 1.5c-4.5 2.4-7.8 6.8-8.8 11.7l-.7 3.3-2.4-1.1c-4.5-2.1-9.7-1.9-14 .6l-8.5 4.9-4.5-2.9c-4-2.6-8.8-3.2-13.3-1.5l-4.2 1.5-1.9-1.5c-3.8-2.9-8.7-3.8-13.2-2.1l-8.5 3.3-3.2-2.4c-3.8-2.8-8.5-3.5-13-.2l-5.6 4.1-3.2-4.1c-2.9-3.8-7.5-6-12.5-6-4.5 0-8.7 2-11.4 5.3l-1.6 2-1.7-1.1c-4.2-2.8-9.4-3.2-14-.9l-11.2 5.3-2.6-2.9c-3.1-3.5-7.7-5.5-12.5-5.5-4.4 0-8.5 1.9-11.4 5.2l-2.6 2.9-2.1-1.3c-4.2-2.6-9.3-2.9-13.8-.9L141.2 201l-7.1-2.3c-4.7-1.5-9.7-.7-13.8 2.3l-10.9 7.8-1.5-2.1c-3.1-4.4-8.3-6.8-13.8-6.4l-12.6.9-3.8-2.3c-4.1-2.4-9-2.6-13.3-.3l-8.5 4.4-4.2-3.5c-3.5-2.9-8-4.1-12.5-3.5l-9.1 1.3-2.9-1.9c-3.8-2.4-8.5-2.9-12.9-.9l-8.1 3.7-2.1-4.7c-1.9-4.1-5.6-6.9-10.1-7.4-4.5-.5-8.8 1.3-11.6 4.7l-4.1 4.9-5.3-2.3c-4.5-2-9.6-1.9-13.9.3l-8.1 4.1-1.3-3.1c-1.6-3.8-5-6.4-9.1-6.9-4.1-.5-8.1 1.2-10.6 4.4l-2.8 3.5-1.9-.9c-4.2-2-9-1.7-12.9 1-3.8 2.6-6.4 6.8-6.9 11.4l-.3 2.9-1.3-1.2c-3.5-3.1-8.3-4.4-12.9-3.1l-3.2 1-3.3-8.8c-.9-2.4-2.6-4.4-4.9-5.6-2.3-1.2-4.9-1.5-7.4-.9l-3.5.9-1.3-1.1c-3.3-2.8-7.7-3.8-11.9-2.6l-3.1.9-.3-1.9c-.6-3.8-3.2-6.9-6.6-8.3-3.5-1.5-7.4-1.1-10.5 1l-2.4 1.7-1.3-4.7c-1.1-3.8-4.1-6.6-7.8-7.5-3.8-.9-7.7.3-10.3 3.1l-2.3 2.4-2.3-5.2c-1.6-3.7-5-6.1-9-6.6-4.1-.6-8.1 1.1-10.6 4.1l-1.9 2.1-2.8-1.7c-3.8-2.3-8.3-2.6-12.3-1l-3.1 1.2-1.9-3.5c-2.1-3.8-6-6.1-10.3-6.1-4.2 0-8.1 2.3-10.3 6.1l-1.6 2.9-2.8-1.5c-4-2.1-8.7-2.1-12.6 0l-2.9 1.5-1.6-2.9c-2.1-3.8-6-6.1-10.3-6.1-4.2 0-8.1 2.3-10.3 6.1l-1.6 2.9-2.9-1.5c-4-2.1-8.7-2.1-12.6 0l-2.9 1.5-1.6-2.9c-2.1-3.8-6-6.1-10.3-6.1s-8.1 2.3-10.3 6.1l-1.6 2.9-2.9-1.5c-4-2.1-8.7-2.1-12.6 0l-2.9 1.5-1.6-2.9c-2.1-3.8-6-6.1-10.3-6.1-4.2 0-8.1 2.3-10.3 6.1l-1.6 2.9-2.9-1.5c-4-2.1-8.7-2.1-12.6 0l-2.9 1.5-1.6-2.9c-2.1-3.8-6-6.1-10.3-6.1-4.2 0-8.1 2.3-10.3 6.1l-1.6 2.9-2.9-1.5c-4-2.1-8.7-2.1-12.6 0l-2.9 1.5-1.6-2.9c-2.1-3.8-6-6.1-10.3-6.1-4.2 0-8.1 2.3-10.3 6.1l-1.6 2.9-2.9-1.5c-4-2.1-8.7-2.1-12.6 0l-2.9 1.5-1.6-2.9c-2.1-3.8-6-6.1-10.3-6.1-4.2 0-8.1 2.3-10.3 6.1l-1.6 2.9-2.9-1.5c-4-2.1-8.7-2.1-12.6 0L1.1 98.2c-.4.2-.7.4-1.1.7z" />
            
            {continentButtons.map(({ name, position }) => (
                <div key={name} className={`absolute transform -translate-x-1/2 -translate-y-1/2 ${position}`}>
                    <button
                        onClick={() => onSelect(name)}
                        className={`continent-button font-bold py-2 px-4 rounded-full shadow-lg backdrop-blur-sm ${selectedContinent === name ? 'bg-orange-600 text-white' : 'bg-white/60 text-stone-700 hover:bg-white/90 border border-stone-300/80'}`}
                    >
                        {name.split(' ').map(part => part.charAt(0)).join('')}
                    </button>
                </div>
            ))}
        </div>
    );
}

export const CountrySelector: React.FC<CountrySelectorProps> = ({ onCountrySelect, selectedCountry }) => {
  const [selectedContinent, setSelectedContinent] = useState<string>('');
  
  const continents = useMemo(() => Object.keys(countries), []);

  useEffect(() => {
    if (selectedCountry) {
        const continentOfSelectedCountry = continents.find(c => 
            countries[c].some(country => country.name === selectedCountry)
        );

        if (continentOfSelectedCountry && continentOfSelectedCountry !== selectedContinent) {
            setSelectedContinent(continentOfSelectedCountry);
        }
    }
  }, [selectedCountry, continents, selectedContinent]);

  const handleContinentSelect = (continent: string) => {
    setSelectedContinent(continent);
    if (selectedContinent !== continent) {
      onCountrySelect(''); 
    }
  };

  const handleCountryChange = (e: React.ChangeEvent<HTMLSelectElement>) => {
    onCountrySelect(e.target.value);
  };
  
  const baseSelectClasses = "w-full p-3 bg-stone-50 border border-stone-300 rounded-md focus:ring-2 focus:ring-orange-500 focus:border-orange-500 transition-colors duration-200 text-stone-800";

  return (
    <div className="w-full bg-white/70 p-6 rounded-xl space-y-4 h-full flex flex-col backdrop-blur-sm border border-stone-200/80 shadow-sm">
       <div className="text-center">
        <h2 className="text-2xl font-bold text-stone-800">Choose Your Destination</h2>
        <p className="text-stone-600 mt-1">Click a continent on the map or use the dropdowns.</p>
       </div>
       <WorldMap selectedContinent={selectedContinent} onSelect={handleContinentSelect} />
      <div className="space-y-4 mt-auto">
         <div>
           <label htmlFor="continent" className="block text-sm font-medium text-stone-600 mb-1">Continent</label>
           <select id="continent" value={selectedContinent} onChange={(e) => handleContinentSelect(e.target.value)} className={baseSelectClasses}>
             <option value="">Select a Continent</option>
             {continents.map(c => <option key={c} value={c}>{c}</option>)}
           </select>
         </div>

        {selectedContinent && (
          <div className="animate-fade-in">
            <label htmlFor="country" className="block text-sm font-medium text-stone-600 mb-1">Country</label>
            <select id="country" value={selectedCountry} onChange={handleCountryChange} className={baseSelectClasses} disabled={!selectedContinent}>
              <option value="">Select a Country</option>
              {countries[selectedContinent].map((country) => (
                <option key={country.name} value={country.name}>
                  {country.flag} {country.name}
                </option>
              ))}
            </select>
          </div>
        )}
      </div>
    </div>
  );
};